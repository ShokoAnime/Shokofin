<div data-role="page" class="page type-interior pluginConfigurationPage withTabs" data-require="emby-input,emby-button,emby-select,emby-checkbox" data-controller="__plugin/Shoko.Settings.js">
    <div data-role="content">
        <div class="content-primary">
            <style>
form:not(.expert-mode) .expert-only {
    display: none !important;
}

.expert-only.inputContainer .inputLabel::after,
.expert-only.selectContainer .selectLabel::after,
.expert-only.checkboxContainer .checkboxLabel::after,
.expert-only[is="checkbox-list"] .checkboxListLabel::after,
.expert-only[is="sortable-checkbox-list"] .checkboxListLabel::after {
  font-size: 50%;
  color: red;
  margin-inline-start: 0.25rem;
  padding-inline: 0.25rem;
  vertical-align: middle;
  content: "ADVANCED";
  border: red 1px solid;
  border-radius: 1rem;
  display: "inline";
}

</style>
            <form>
                <div class="verticalSection verticalSection-extrabottompadding">
                    <div class="sectionTitleContainer flex align-items-center">
                        <h2 class="sectionTitle">Shoko</h2>
                        <a is="emby-linkbutton" rel="noopener noreferrer" class="raised button-alt headerHelpButton emby-button" target="_blank" href="https://docs.shokoanime.com/jellyfin/configuring-shokofin/">Help</a>
                    </div>
                    <fieldset id="Connection_Section" class="verticalSection verticalSection-extrabottompadding" hidden>
                        <legend>
                            <h3>Connection Settings</h3>
                        </legend>
                        <div class="inputContainer inputContainer-withDescription">
                            <input is="emby-input" type="text" id="Url" label="Private Host URL" />
                            <div class="fieldDescription">This is the private URL leading to where Shoko is running. It will be used internally in Jellyfin in addition to all images sent to clients and redirects back to Shoko if you don't set a public host URL below. It <i>should</i> include both the protocol and the IP/DNS name.</div>
                        </div>
                        <div class="inputContainer inputContainer-withDescription">
                            <input is="emby-input" type="text" id="PublicUrl" label="Public Host URL" />
                            <div class="fieldDescription">Optional. This is the public URL leading to where Shoko is running. It can be used to redirect to Shoko if you click on a Shoko ID in the UI if Shoko and/or Jellyfin is running within a container and you cannot access Shoko from the host URL provided in the connection settings section above. It will also be used for images from the plugin when viewing the "Edit Images" modal in clients. It <i>should</i> include both the protocol and the IP/DNS name.</div>
                        </div>
                        <div class="inputContainer inputContainer-withDescription">
                            <input is="emby-input" type="text" id="Username" label="Username" />
                            <div class="fieldDescription">The username of your administrator account in Shoko.</div>
                        </div>
                        <div id="ConnectionSetContainer">
                            <div class="inputContainer inputContainer-withDescription">
                                <input is="emby-input" type="password" id="Password" label="Password" />
                                <div class="fieldDescription">The password of your administrator account in Shoko.</div>
                            </div>
                            <button is="emby-button" type="submit" name="establish-connection" class="raised button-submit block emby-button">
                                <span>Connect</span>
                            </button>
                            <div class="fieldDescription">Establish a connection to Shoko using the provided credentials.</div>
                        </div>
                        <div id="ConnectionResetContainer" hidden>
                            <div class="inputContainer inputContainer-withDescription">
                                <input is="emby-input" type="text" id="ServerVersion" label="Server Version" readonly value="Unknown Version" />
                                <div class="fieldDescription">The version of Shoko we're connected to.</div>
                            </div>
                            <button is="emby-button" type="submit" name="reset-connection" class="raised block emby-button">
                                <span>Reset Connection</span>
                            </button>
                            <div class="fieldDescription">Reset the connection. Be sure to stop any tasks using this plugin before you press the button.</div>
                        </div>
                    </fieldset>
                    <fieldset id="Metadata_Title_Section" class="verticalSection verticalSection-extrabottompadding" hidden>
                        <legend>
                            <h3>Title Settings</h3>
                        </legend>
                        <div id="TitleMainList" is="sortable-checkbox-list" style="margin-bottom: 2em;">
                            <h3 class="checkboxListLabel">Main Title Source</h3>
                            <div class="checkboxList paperList checkboxList-paperList">
                                <div class="listItem sortableOption">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Shoko_Default">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Shoko | Let Shoko decide</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Down" class="btnSortableMoveDown btnSortable">
                                        <span class="material-icons keyboard_arrow_down" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="AniDB_Default">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">AniDB | Default title</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="AniDB_LibraryLanguage">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">AniDB | Follow metadata language in library</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="AniDB_CountryOfOrigin">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">AniDB | Use the language from the media's country of origin</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TMDB_Default">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">TMDB | Default title</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TMDB_LibraryLanguage">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">TMDB | Follow metadata language in library</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TMDB_CountryOfOrigin">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">TMDB | Use the language from the media's country of origin</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </div>
                            <div class="fieldDescription">The metadata providers to use as the source of the main title for entities, in priority order.</div>
                        </div>
                        <div id="TitleAlternateList" is="sortable-checkbox-list" style="margin-bottom: 2em;">
                            <h3 class="checkboxListLabel">Alternate/Original Title Source</h3>
                            <div class="checkboxList paperList checkboxList-paperList">
                                <div class="listItem sortableOption">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Shoko_Default">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Shoko | Let Shoko decide</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Down" class="btnSortableMoveDown btnSortable">
                                        <span class="material-icons keyboard_arrow_down" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="AniDB_Default">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">AniDB | Default title</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="AniDB_LibraryLanguage">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">AniDB | Follow metadata language in library</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="AniDB_CountryOfOrigin">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">AniDB | Use the language from the media's country of origin</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TMDB_Default">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">TMDB | Default title</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TMDB_LibraryLanguage">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">TMDB | Follow metadata language in library</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TMDB_CountryOfOrigin">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">TMDB | Use the language from the media's country of origin</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </div>
                            <div class="fieldDescription">The metadata providers to use as the source of the alternate/original title for entities, in priority order.</div>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="MarkSpecialsWhenGrouped" />
                                <span>Add Prefix to Episodes</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Adds the type and number to the title of non-standard episodes such as specials. (e.g. S1)</div>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription expert-only">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="TitleAllowAny" />
                                <span>Allow Any Title in Selected Language</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Allows for any titles to be utilized if an official title is not present in the given language. Only applies to the AniDB title selectors above.</div>
                        </div>
                        <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                            <span>Save</span>
                        </button>
                    </fieldset>
                    <fieldset id="Metadata_Description_Section" class="verticalSection verticalSection-extrabottompadding" hidden>
                        <legend>
                            <h3>Description Settings</h3>
                        </legend>
                        <div class="checkboxContainer checkboxContainer-withDescription expert-only">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="CleanupAniDBDescriptions" />
                                <span>Cleanup AniDB Descriptions</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Prettifies AniDB descriptions and convert them to markdown.</div>
                        </div>
                        <div id="DescriptionSourceList" is="sortable-checkbox-list" style="margin-bottom: 2em;">
                            <h3 class="checkboxListLabel">Description Source</h3>
                            <div class="checkboxList paperList checkboxList-paperList">
                                <div class="listItem sortableOption" data-option="Shoko">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Shoko">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Shoko | Let Shoko decide</h3>
                                        <span></span>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Down" class="btnSortableMoveDown btnSortable">
                                        <span class="material-icons keyboard_arrow_down" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption" data-option="AniDB">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="AniDB">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">AniDB | Follow metadata language in library</h3>
                                        <span></span>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption" data-option="TMDB">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TMDB">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">TMDB | Follow metadata language in library</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption" data-option="TvDB">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TvDB">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">TvDB | Follow metadata language in library</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </div>
                            <div class="fieldDescription">The metadata providers to use as the source of descriptions for entities, in priority order.</div>
                        </div>
                        <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                            <span>Save</span>
                        </button>
                    </fieldset>
                    <fieldset id="Metadata_TagGenre_Section" class="verticalSection verticalSection-extrabottompadding expert-only" hidden>
                        <legend>
                            <h3>Tag & Genre Settings</h3>
                        </legend>
                        <div class="checkboxContainer checkboxContainer-withDescription expert-only">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="HideUnverifiedTags" />
                                <span>Ignore Unverified Tags</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Don't use any user-submitted tags that have not been verified by AniDB.</div>
                        </div>
                        <div id="TagSources" is="checkbox-list" class="expert-only" style="margin-bottom: 2em;">
                            <h3 class="checkboxListLabel">Tag Sources</h3>
                            <div class="checkboxList paperList checkboxList-paperList">
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="ContentIndicators">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Content indicators</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Dynamic">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Dynamic | General</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="DynamicCast">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Dynamic | Cast</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="DynamicEnding">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Dynamic | Ending</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Elements">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Elements | General</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="ElementsPornographyAndSexualAbuse">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Elements | Pornography & sexual abuse</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="ElementsTropesAndMotifs">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Elements | Tropes & motifs</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Fetishes">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Fetishes</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="OriginProduction">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Origin | Production</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="OriginDevelopment">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Origin | Development</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="SettingPlace">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Setting | Place</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="SettingTimePeriod">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Setting | Time period</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="SettingTimeSeason">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Setting | Yearly seasons</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="SourceMaterial">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Source material</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TargetAudience">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Target audience</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TechnicalAspects">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Technical aspects | General</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TechnicalAspectsAdaptions">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Technical aspects | Adaptions</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TechnicalAspectsAwards">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Technical aspects | Awards</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TechnicalAspectsMultiAnimeProjects">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Technical aspects | Multi-anime projects</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Themes">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Themes | General</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="ThemesDeath">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Themes | Death</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="ThemesTales">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Themes | Tales</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Ungrouped">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Ungrouped</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Unsorted">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Unsorted</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="CustomTags">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Custom user tags</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="fieldDescription">The tag categories to use as the sources of the displayed tags for entities.</div>
                        </div>
                        <div id="TagIncludeFilters" is="checkbox-list" class="expert-only" style="margin-bottom: 2em;">
                            <h3 class="checkboxListLabel">Tag Inclusion Filters</h3>
                            <div class="checkboxList paperList checkboxList-paperList">
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Parent">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Type | Parent tags</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Child">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Type | Child tags</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Abstract">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Type | Abstract tags</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Weightless">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Type | Weightless tags</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Weighted">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Type | Weighted tags</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="GlobalSpoiler">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Spoiler | Global spoiler</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="LocalSpoiler">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Spoiler | Local spoiler</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="fieldDescription">The inclusion filters to use for the displayed tags for entities.</div>
                        </div>
                        <div class="selectContainer selectContainer-withDescription expert-only">
                            <label class="selectLabel" for="TagMinimumWeight">Minimum Weight for Tags</label>
                            <select is="emby-select" id="TagMinimumWeight" name="TagMinimumWeight" class="emby-select-withcolor emby-select">
                                <option value="Weightless" selected>All Allowed (Default)</option>
                                <option value="One">0.5</option>
                                <option value="Two">1.0</option>
                                <option value="Three">1.5</option>
                                <option value="Four">2.0</option>
                                <option value="Five">2.5</option>
                                <option value="Six">3.0</option>
                            </select>
                            <div class="fieldDescription">
                                Choose the minimum weight a tag must have to be included with the displayed tags, not including weightless tags.
                            </div>
                        </div>
                        <div class="inputContainer inputContainer-withDescription expert-only">
                            <input is="emby-input" id="TagMaximumDepth" label="Maximum Depth for Tags" placeholder="0" type="number" pattern="[0-9]*" min="0" max="10" step="1">
                            <div class="fieldDescription">The maximum relative depth of a tag to be included with the displayed tags based on it's source category.</div>
                        </div>
                        <div id="GenreSources" is="checkbox-list" class="expert-only" style="margin-bottom: 2em;">
                            <h3 class="checkboxListLabel">Genre Sources</h3>
                            <div class="checkboxList paperList checkboxList-paperList">
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="ContentIndicators">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Content indicators</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Dynamic">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Dynamic | General</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="DynamicCast">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Dynamic | Cast</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="DynamicEnding">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Dynamic | Ending</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Elements">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Elements | General</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="ElementsPornographyAndSexualAbuse">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Elements | Pornography & sexual abuse</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="ElementsTropesAndMotifs">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Elements | Tropes & motifs</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Fetishes">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Fetishes</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="OriginProduction">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Origin | Production</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="OriginDevelopment">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Origin | Development</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="SettingPlace">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Setting | Place</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="SettingTimePeriod">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Setting | Time period</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="SettingTimeSeason">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Setting | Yearly seasons</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="SourceMaterial">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Source material</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TargetAudience">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Target audience</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TechnicalAspects">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Technical aspects | General</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TechnicalAspectsAdaptions">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Technical aspects | Adaptions</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TechnicalAspectsAwards">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Technical aspects | Awards</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TechnicalAspectsMultiAnimeProjects">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Technical aspects | Multi-anime projects</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Themes">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Themes | General</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="ThemesDeath">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Themes | Death</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="ThemesTales">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Themes | Tales</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Ungrouped">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Ungrouped</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Unsorted">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Unsorted</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="CustomTags">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Custom user tags</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="fieldDescription">The tag categories to use as the sources of the displayed genres for entities.</div>
                        </div>
                        <div id="GenreIncludeFilters" is="checkbox-list" class="expert-only" style="margin-bottom: 2em;">
                            <h3 class="checkboxListLabel">Genre Inclusion Filters</h3>
                            <div class="checkboxList paperList checkboxList-paperList">
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Parent">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Type | Parent tags</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Child">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Type | Child tags</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Abstract">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Type | Abstract tags</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Weightless">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Type | Weightless tags</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Weighted">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Type | Weighted tags</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="GlobalSpoiler">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Spoiler | Global spoiler</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="LocalSpoiler">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Spoiler | Local spoiler</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="fieldDescription">The inclusion filters to use for the displayed genres for entities.</div>
                        </div>
                        <div class="selectContainer selectContainer-withDescription expert-only">
                            <label class="selectLabel" for="GenreMinimumWeight">Minimum Weight for Genres</label>
                            <select is="emby-select" id="GenreMinimumWeight" name="GenreMinimumWeight" class="emby-select-withcolor emby-select">
                                <option value="Weightless">All Allowed</option>
                                <option value="One">0.5</option>
                                <option value="Two">1.0</option>
                                <option value="Three">1.5</option>
                                <option value="Four" selected>2.0 (Default)</option>
                                <option value="Five">2.5</option>
                                <option value="Six">3.0</option>
                            </select>
                            <div class="fieldDescription">
                                Choose the minimum weight a tag must have to be included with the displayed genres, not including weightless tags.
                            </div>
                        </div>
                        <div class="inputContainer inputContainer-withDescription expert-only">
                            <input is="emby-input" id="GenreMaximumDepth" label="Maximum Depth for Genres" placeholder="1" type="number" pattern="[0-9]*" min="0" max="10" step="1">
                            <div class="fieldDescription">The maximum relative depth of a tag to be included with the displayed genres based on it's source category.</div>
                        </div>
                        <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                            <span>Save</span>
                        </button>
                    </fieldset>
                    <fieldset id="Metadata_Image_Section" class="verticalSection verticalSection-extrabottompadding" hidden>
                        <legend>
                            <h3>Image Settings</h3>
                        </legend>
                        <div class="checkboxContainer checkboxContainer-withDescription">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="AddImageLanguageCode" />
                                <span>Add Language Code</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Add the language code to image metadata provided to Jellyfin, which it can use to prioritize images based on a library's configured metadata language. If a library has no language set, Jellyfin will prioritize English labeled images if this option is set, and will otherwise use the first available image.</div>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription expert-only">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="RespectPreferredImage" />
                                <span>Respect Preferred Image</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Respect the preferred image flag sent from server when selecting the correct image to use for the library. Setting this will also set the language code to the preferred language code for the library if "Add Language Code" is enabled, thus ensuring it is always selected for the library.</div>
                        </div>
                        <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                            <span>Save</span>
                        </button>
                    </fieldset>
                    <fieldset id="Metadata_Misc_Section" class="verticalSection verticalSection-extrabottompadding expert-only" hidden>
                        <legend>
                            <h3>Miscellaneous Settings</h3>
                        </legend>
                        <div id="ContentRatingList" is="sortable-checkbox-list" class="expert-only" style="margin-bottom: 2em;">
                            <h3 class="checkboxListLabel">Content Rating Sources</h3>
                            <div class="checkboxList paperList checkboxList-paperList">
                                <div class="listItem sortableOption" data-option="TMDB">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TMDB">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">TMDB | Follow country/region set in library</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Down" class="btnSortableMoveDown btnSortable">
                                        <span class="material-icons keyboard_arrow_down" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption" data-option="AniDB">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="AniDB">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">AniDB | Approximate content rating based on tags</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </div>
                            <div class="fieldDescription">The metadata providers to use as the source of content ratings for entities, in priority order.</div>
                        </div>
                        <div id="ProductionLocationList" is="sortable-checkbox-list" class="expert-only" style="margin-bottom: 2em;">
                            <h3 class="checkboxListLabel">Production Location Sources</h3>
                            <div class="checkboxList paperList checkboxList-paperList">
                                <div class="listItem sortableOption" data-option="AniDB">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="AniDB">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">AniDB</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Down" class="btnSortableMoveDown btnSortable">
                                        <span class="material-icons keyboard_arrow_down" aria-hidden="true"></span>
                                    </button>
                                </div>
                                <div class="listItem sortableOption" data-option="TMDB">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TMDB">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">TMDB</h3>
                                    </div>
                                    <button type="button" is="paper-icon-button-light" title="Up" class="btnSortableMoveUp btnSortable">
                                        <span class="material-icons keyboard_arrow_up" aria-hidden="true"></span>
                                    </button>
                                </div>
                            </div>
                            <div class="fieldDescription">The metadata providers to use as the source of production locations for entities, in priority order.</div>
                        </div>
                        <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                            <span>Save</span>
                        </button>
                    </fieldset>
                    <fieldset id="Metadata_ThirdPartyIntegration_Section" class="verticalSection verticalSection-extrabottompadding" hidden>
                        <legend>
                            <h3>Third Party Integration</h3>
                        </legend>
                        <div id="ThirdPartyIdProviderList" is="checkbox-list" style="margin-bottom: 2em;">
                            <h3 class="checkboxListLabel">Add Third Party IDs</h3>
                            <div class="checkboxList paperList checkboxList-paperList">
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="AniDB">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">AniDB | Series, Seasons, Episodes</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TMDB">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">TMDB | Shows, Seasons, Episodes, Movies</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TvDB">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">TvDB | Shows, Episodes</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="fieldDescription">Enable which third party IDs to provide for other plugins to consume with supported media items.</div>
                        </div>
                        <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                            <span>Save</span>
                        </button>
                    </fieldset>
                    <fieldset id="Library_Basic_Section" class="verticalSection verticalSection-extrabottompadding" hidden>
                        <legend>
                            <h3>Basic Settings</h3>
                        </legend>
                        <div class="checkboxContainer checkboxContainer-withDescription expert-only">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="AutoMergeVersions" />
                                <span>Automatically Merge Multiple Versions</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Enable to automatically merge multiple versions of the same media info a single displayed entry after a library scan or refresh. Only applies to videos with Shoko IDs set.</div>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="UseGroupsForShows" />
                                <span>Use Groups for Shows</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">
                                <div>
                                    This will use Shoko's group structure to construct the shows in the libraries instead of the flat AniDB-esque structure you would otherwise see.
                                </div>
                                <details style="margin-top: 0.5em">
                                    <summary style="margin-bottom: 0.25em">Pre-requirements for use.</summary>
                                    To make the most out of this feature you first need to configure your groups in Shoko. You can either enable auto-grouping in the settings, manually craft your own group structure, or a mix of the two where you have auto-grouping enabled but override the placement if you feel it should belong elsewhere instead. For more information look up the <a href="https://docs.shokoanime.com/shoko-server/group-management">Shoko docs</a> on how to manage your groups.
                                </details>
                                <details style="margin-top: 0.5em">
                                    <summary style="margin-bottom: 0.25em">Can I use this with collections?</summary>
                                    Yes! You can use this with collections enabled, but that entails most of the time that you've configured a multi-layered structure for your groups because the deepest layer will be used for the shows while all the layers above will be used for collections. The exception to this is if you have a group which contains both movies and shows and you've enabled the option to separate movies from shows. In which case the deepest layer of groups will also be used to generate a collection for your movie(s) and show within the layer. Also note that enabling auto-grouping only gives you a single layer, and you need to use Shoko Desktop (or in the future, the Web UI) to create your nested structure. For more information look up the <a href="https://docs.shokoanime.com/shoko-server/group-management">Shoko docs</a> on how to manage your groups.
                                </details>
                            </div>
                        </div>
                        <div id="SeasonOrderingContainer" class="selectContainer selectContainer-withDescription expert-only" hidden>
                            <label class="selectLabel" for="SeasonOrdering">Season Ordering</label>
                            <select is="emby-select" id="SeasonOrdering" name="SeasonOrdering" class="emby-select-withcolor emby-select" disabled>
                                <option value="Default" selected>Let Shoko decide (Default)</option>
                                <option value="ReleaseDate">Order seasons by release date</option>
                                <option value="Chronological" class="expert-only">Order seasons in chronological order (use indirect relations) (EXPERIMENTAL)</option>
                                <option value="ChronologicalIgnoreIndirect">Order seasons in chronological order (ignore indirect relations) (EXPERIMENTAL)</option>
                            </select>
                            <div class="fieldDescription">Determines how to order seasons within shows when using groups for shows.</div>
                        </div>
                        <div class="selectContainer selectContainer-withDescription">
                            <label class="selectLabel" for="SpecialsPlacement">Specials Placement Within Seasons</label>
                            <select is="emby-select" id="SpecialsPlacement" name="SpecialsPlacement" class="emby-select-withcolor emby-select">
                                <option value="AfterSeason">Always place specials after the normal episodes (Default)</option>
                                <option value="InBetweenSeasonByAirDate">Use release dates to place specials</option>
                                <option value="InBetweenSeasonByOtherData">Loosely use the TvDB/TMDB data available in Shoko to place specials</option>
                                <option value="InBetweenSeasonMixed">Either loosely use the TvDB/TMDB data available in Shoko or fallback to using release dates to place specials</option>
                                <option value="Excluded">Exclude specials from the seasons</option>
                            </select>
                            <div class="fieldDescription selectFieldDescription">Determines how specials are placed within seasons. <strong>Warning:</strong> Modifying this setting requires a recreation (read as; delete existing then create a new) of any libraries using this plugin  otherwise you <strong>will</strong> have mixed metadata.</div>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="SeparateMovies" />
                                <span>Separate Movies from Shows</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">By default we allow movies to show up as episodes within seasons of your shows in show libraries. Enable this if you want your movies to be filtered out of your show libraries. Also note that enabling this option allows you to create collections for your shows and movies when using 'Use Groups for Shows' and have a flat group structure. <strong>This setting also applies to mixed type libraries.</strong></div>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="AddMissingMetadata" />
                                <span>Add Missing Episodes/Seasons</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Add the metadata for missing episodes/seasons not currently present in your local collection. Display settings for each Jellyfin user will have to be adjusted to show missing episode information to make use of this feature.</div>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription expert-only">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="DisableFilterMovieLibraries" />
                                <span>Disable Movie Library Filtering</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">By default we filter out anything that is not a movie in movie libraries. Enable this if you want everything to show up as movies in your movie libraries instead.</div>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription expert-only">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="MovieSpecialsAsExtraFeaturettes" />
                                <span>Force Movie Special Features</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Append all specials in an AniDB movie series as special features for the movie(s). By default only some specials will be automatically recognized as special features, but by enabling this option you will force all specials to be used as special features. This setting applies to movie series across all library types, and will break some movie series in a show type library.</div>
                        </div>
                        <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                            <span>Save</span>
                        </button>
                    </fieldset>
                    <fieldset id="Library_Collection_Section" class="verticalSection verticalSection-extrabottompadding" hidden>
                        <legend>
                            <h3>Collection Settings</h3>
                        </legend>
                        <div class="selectContainer selectContainer-withDescription">
                            <label class="selectLabel" for="CollectionGrouping">Collections</label>
                            <select is="emby-select" id="CollectionGrouping" name="CollectionGrouping" class="emby-select-withcolor emby-select">
                                <option value="None" selected>Do not create collections</option>
                                <option value="Movies">Create collections for movies based upon Shoko's series</option>
                                <option value="Shared">Create collections for movies and shows based upon Shoko's groups and series</option>
                            </select>
                            <div class="fieldDescription">
                                <div>Determines what entities to group into native Jellyfin collections.</div>
                                <details style="margin-top: 0.5em">
                                    <summary style="margin-bottom: 0.25em">Custom CSS for the collections</summary>
                                    Here's some optional custom CSS you can add to "rename" the sections in the collections to
                                    better align with what you'd expect them to be named. If you want it in another language then
                                    you need to translate it yourself and replace it in the CSS before setting it in your server.
                                    <pre>
.collectionItems .verticalSection:has(div[data-type="Movie"]) .sectionTitle.sectionTitle-cards > span {
    visibility: hidden;
}
.collectionItems .verticalSection:has(div[data-type="Movie"]) .sectionTitle.sectionTitle-cards > span::before {
    visibility: initial;
    content: "Movies";
}
.collectionItems .verticalSection:has(div[data-type="BoxSet"]) .sectionTitle.sectionTitle-cards > span {
    visibility: hidden;
}
.collectionItems .verticalSection:has(div[data-type="BoxSet"]) .sectionTitle.sectionTitle-cards > span::before {
    visibility: initial;
    content: "Collections";
}
</pre>
                                </details>
                            </div>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription expert-only">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="CollectionMinSizeOfTwo" />
                                <span>Require Two Entries for a Collection</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">If collections are enabled, only create a collection when the collection will contain at least two items.</div>
                        </div>
                        <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                            <span>Save</span>
                        </button>
                    </fieldset>
                    <fieldset id="Library_New_Section" class="verticalSection verticalSection-extrabottompadding" hidden>
                        <legend>
                            <h3>New Library Settings</h3>
                        </legend>
                        <div class="checkboxContainer checkboxContainer-withDescription">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="VFS_Enabled" />
                                <span>Use the Virtual File System (<strong>VFS</strong>)</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">
                                <div>Enables the use of the VFS for any new libraries managed by the plugin.</div>
                                <div id="WindowsSymLinkWarning1" hidden><strong>Warning</strong>: Windows users are required to <a href="https://learn.microsoft.com/en-us/windows/apps/get-started/developer-mode-features-and-debugging#use-regedit-to-enable-your-device" target="_blank" rel="noopener noreferrer">enable Developer Mode</a> then restart Jellyfin to be able to create symbolic links, a feature <strong>required</strong> to use the VFS.</div>
                                <details style="margin-top: 0.5em">
                                    <summary style="margin-bottom: 0.25em">What does this mean?</summary>
                                    Enabling this feature allows you to disregard the underlying disk file structure while automagically meeting Jellyfin's requirements for file organization. It also ensures that no unrecognized files appear in your library and allows us to fully leverage Jellyfin's native features better than we otherwise could without it. This enables us to effortlessly support trailers, special features, and theme videos for series, seasons and movies, as well as merge partial episodes into a single episode. All this is possible because we disregard the underlying disk file structure to create our own using symbolic links.
                                    <br/>
                                    <strong>Do not enable this for an existing library. If you do, then delete and re-create your library from scratch.</strong>
                                </details>
                            </div>
                        </div>
                        <div class="selectContainer selectContainer-withDescription">
                            <label class="selectLabel" for="LibraryFilteringMode">Legacy Library Filtering</label>
                            <select is="emby-select" id="LibraryFilteringMode" name="LibraryFilteringMode" class="emby-select-withcolor emby-select">
                                <option value="Auto">Auto</option>
                                <option value="Strict" selected>Strict</option>
                                <option value="Lax" selected>Lax</option>
                            </select>
                            <div class="fieldDescription">
                                <div>Adjust how the plugin filters out unrecognized media in your new libraries. This option only applies if the VFS is not used.</div>
                                <details style="margin-top: 0.5em">
                                    <summary style="margin-bottom: 0.25em">What does auto filtering entail?</summary>
                                    Auto filtering means the plugin will only filter out unrecognized media if no other metadata provider is enabled, otherwise it will leave them in the library.
                                </details>
                                <details style="margin-top: 0.5em">
                                    <summary style="margin-bottom: 0.25em">What does strict filtering entail?</summary>
                                    Strict filtering means the plugin will filter out any and all unrecognized media from the library.
                                </details>
                                <details style="margin-top: 0.5em">
                                    <summary style="margin-bottom: 0.25em">What does lax filtering entail?</summary>
                                    Lax filtering means the plugin will not filter out anything from the library. Use this only if you're having trouble.
                                </details>
                            </div>
                        </div>
                        <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                            <span>Save</span>
                        </button>
                    </fieldset>
                    <fieldset id="Library_Existing_Section" class="verticalSection verticalSection-extrabottompadding" hidden>
                        <legend>
                            <h3>Existing Library Settings</h3>
                        </legend>
                        <div class="selectContainer selectContainer-withDescription">
                            <label class="selectLabel" for="MediaFolderSelector">Configure settings for</label>
                            <select is="emby-select" id="MediaFolderSelector" name="MediaFolderSelector" value="" class="emby-select-withcolor emby-select">
                                <option value="">Click here to select a library</option>
                            </select>
                            <div class="fieldDescription selectFieldDescription">Select a media folder to add or modify the media folder settings for.</div>
                        </div>
                        <div id="MediaFolderPerFolderSettingsContainer" hidden>
                            <div id="MediaFolderImportFolderMapping" style="margin-bottom: 2em;">
                                <h3 class="checkboxListLabel">Import Folder Mapping</h3>
                                <div class="checkboxList paperList checkboxList-paperList">
                                </div>
                                <div class="fieldDescription">The Shoko Import Folders the Media Folders are mapped to.</div>
                            </div>
                            <div class="checkboxContainer checkboxContainer-withDescription">
                                <label class="emby-checkbox-label">
                                    <input is="emby-checkbox" type="checkbox" id="MediaFolderVirtualFileSystem" />
                                    <span>Use the Virtual File System (<strong>VFS</strong>)</span>
                                </label>
                                <div class="fieldDescription checkboxFieldDescription">
                                    <div>Enables the use of the VFS for the library.</div>
                                    <div id="WindowsSymLinkWarning2" hidden><strong>Warning</strong>: Windows users are required to <a href="https://learn.microsoft.com/en-us/windows/apps/get-started/developer-mode-features-and-debugging#use-regedit-to-enable-your-device" target="_blank" rel="noopener noreferrer">enable Developer Mode</a> then restart Jellyfin to be able to create symbolic links, a feature <strong>required</strong> to use the VFS.</div>
                                    <details style="margin-top: 0.5em">
                                        <summary style="margin-bottom: 0.25em">What does this mean?</summary>
                                        Enabling this setting should in theory make it so you won't have to think about file structure incompatibilities, since it will override your existing file structure and replace it with a layer of symbolic links managed by the plugin instead of your actual file structure.
                                        &nbsp;
                                        <strong>Do not enable this for an existing library. If you do, then delete and re-create your library from scratch.</strong>
                                    </details>
                                </div>
                            </div>
                            <div class="selectContainer selectContainer-withDescription">
                                <label class="selectLabel" for="MediaFolderLibraryFilteringMode">Legacy Library Filtering</label>
                                <select is="emby-select" id="MediaFolderLibraryFilteringMode" name="MediaFolderLibraryFilteringMode" class="emby-select-withcolor emby-select">
                                    <option value="Auto">Auto</option>
                                    <option value="Strict" selected>Strict</option>
                                    <option value="Lax" selected>Lax</option>
                                </select>
                                <div class="fieldDescription">
                                    <div>Adjust how the plugin filters out unrecognized media in the library. This option only applies if the VFS is not used.</div>
                                    <details style="margin-top: 0.5em">
                                        <summary style="margin-bottom: 0.25em">What does auto filtering entail?</summary>
                                        Auto filtering means the plugin will only filter out unrecognized media if no other metadata provider is enabled, otherwise it will leave them in the library.
                                    </details>
                                    <details style="margin-top: 0.5em">
                                        <summary style="margin-bottom: 0.25em">What does strict filtering entail?</summary>
                                        Strict filtering means the plugin will filter out any and all unrecognized media from the library.
                                    </details>
                                    <details style="margin-top: 0.5em">
                                        <summary style="margin-bottom: 0.25em">What does lax filtering entail?</summary>
                                        Lax filtering means the plugin will not filter out anything from the library. Use this only if you're having trouble.
                                    </details>
                                </div>
                            </div>
                            <div class="inputContainer inputContainer-withDescription">
                                <button is="emby-button" type="submit" name="remove-library" class="raised button-delete block emby-button">
                                    <span>Remove</span>
                                </button>
                                <div class="fieldDescription">This will delete the saved settings and reset the mapping for the library.</div>
                            </div>
                            <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                                <span>Save</span>
                            </button>
                        </div>
                    </fieldset>
                    <fieldset id="Library_Experimental_Section" class="verticalSection verticalSection-extrabottompadding expert-only" hidden>
                        <legend>
                            <h3>Experimental Settings</h3>
                        </legend>
                        <div class="fieldDescription verticalSection-extrabottompadding">Any features/settings in this section is still considered to be in an experimental state. <strong>You can enable them, but at the risk if them messing up your library.</strong></div>
                        <div class="checkboxContainer checkboxContainer-withDescription expert-only">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="EXPERIMENTAL_MergeSeasons" />
                                <span>Automatically Merge Seasons</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Blur the boundaries between AniDB anime further by merging entries which could have just been a single anime entry based on name matching and a configurable merge window.</div>
                        </div>
                        <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                            <span>Save</span>
                        </button>
                    </fieldset>
                    <fieldset id="VFS_Basic_Section" class="verticalSection verticalSection-extrabottompadding" hidden>
                        <legend>
                            <h3>Basic Settings</h3>
                        </legend>
                        <div class="checkboxContainer checkboxContainer-withDescription">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="AddTrailers" />
                                <span>Add Trailers</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Add trailers to entities within the VFS.</div>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="AddCreditsAsThemeVideos" />
                                <span>Add Credits as Theme Videos</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Add all credits as theme videos to entities with in the VFS.</div>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="AddCreditsAsSpecialFeatures" />
                                <span>Add Credits as Special Features</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Add all credits as special features to entities with in the VFS.</div>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="VFS_AddReleaseGroup" />
                                <span>Add Release Group to Path</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Add the full or short release group name to all automatically linked files in the VFS. "No Group" will be used for all manually linked files. <strong>Warning</strong>: The release group in the file name may change if the release group info is incomplete, unavailable, or otherwise updated in Shoko at a later date, and thus may cause episode/movie entries to be "removed" and "added" as new entries when that happens. <strong>Use at your own risk.</strong></div>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="VFS_AddResolution" />
                                <span>Add Resolution to Path</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Enabling this will add the standardized resolution (e.g. 480p, 1080p, 4K, etc.) to all files in the VFS if available. <strong>Warning</strong>: Though rare, we may fail to read the media info in Shoko when the files were first added (e.g. because of a corrupt file, encountering an unsupported <i>new</i> codec, etc.), then reading it later. This may lead to episode/movie entries to be "removed" and "added" as new entries the next time they are refreshed after the metadata has been added. <strong>Use at your own risk.</strong></div>
                        </div>
                        <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                            <span>Save</span>
                        </button>
                    </fieldset>
                    <fieldset id="VFS_Location_Section" class="verticalSection verticalSection-extrabottompadding expert-only" hidden>
                        <legend>
                            <h3>VFS Location Settings</h3>
                        </legend>
                        <div class="fieldDescription verticalSection-extrabottompadding">
                            Configure where to place the VFS in the file system and how to attach it to your libraries. <strong>Tweak at your own risk.</strong>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription expert-only">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="VFS_ResolveLinks" />
                                <span>Resolve Links Before VFS</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">If the library contains symbolic links to media, it will follow them until a final "real" file is found and use the path of said file for the VFS.</div>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription expert-only">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="VFS_AttachRoot" />
                                <span>Attach VFS to Libraries</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Makes the VFS structure that the plugin automatically creates show up as a folder for your libraries. This allows reusing the same media folder(s) across multiple libraries without needing any other workarounds. Useful for separating movies and series into separate libraries while still using the same media folder(s) for both.</div>
                        </div>
                        <div class="selectContainer selectContainer-withDescription expert-only">
                            <label class="selectLabel" for="VFS_Location">VFS Location</label>
                            <select is="emby-select" id="VFS_Location" name="VFS_Location" class="emby-select-withcolor emby-select">
                                <option value="Default" selected>Jellyfin Data Directory (Default)</option>
                                <option value="Cache">Jellyfin Cache Directory</option>
                                <option value="Custom">Custom Directory</option>
                            </select>
                            <div class="fieldDescription">Change where the VFS structure will be placed. Changing this will cause your library to "remove" and "re-add" itself because of the path changes. You will need to manually move your VFS root if you plan to keep it when toggling this setting. Trick-play files will need to be backed-up beforehand and moved back the next library scan if you want to avoid regenerating them after you change this setting. <strong>You have been warned.</strong></div>
                        </div>
                        <div id="VFS_CustomLocationContainer" class="inputContainer inputContainer-withDescription expert-only" hidden>
                            <input is="emby-input" type="text" id="VFS_CustomLocation" label="Custom VFS Root Location" disabled />
                            <div class="fieldDescription">An absolute path, or a relative path from the Jellyfin Data Directory, to the custom root directory of where the VFS will be placed. You decide.</div>
                        </div>
                        <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                            <span>Save</span>
                        </button>
                    </fieldset>
                    <fieldset id="SignalR_Connection_Section" class="verticalSection verticalSection-extrabottompadding" hidden>
                        <legend>
                            <h3>Connection Status</h3>
                        </legend>
                        <div class="inputContainer inputContainer-withDescription">
                            <input is="emby-input" type="text" id="SignalRStatus" label="Connection Status" disabled readonly value="Inactive">
                            <div class="fieldDescription">SignalR connection status.</div>
                        </div>
                        <div id="SignalRConnectContainer" hidden>
                            <button id="SignalRConnectButton" is="emby-button" type="submit" name="signalr-connect" class="raised button-submit block emby-button" disabled>
                                <span>Connect</span>
                            </button>
                            <div class="fieldDescription">Establish a SignalR connection to Shoko.</div>
                        </div>
                        <div id="SignalRDisconnectContainer">
                            <button is="emby-button" type="submit" name="signalr-disconnect" class="raised block emby-button">
                                <span>Disconnect</span>
                            </button>
                            <div class="fieldDescription">Terminate the SignalR connection to Shoko.</div>
                        </div>
                    </fieldset>
                    <fieldset id="SignalR_Basic_Section" class="verticalSection verticalSection-extrabottompadding" hidden>
                        <legend>
                            <h3>Basic Settings</h3>
                        </legend>
                        <div class="checkboxContainer checkboxContainer-withDescription">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="SignalRAutoConnect" />
                                <span>Auto Connect on Start</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">
                                Attempt to establish a SignalR connection to your running Shoko instance when Jellyfin starts up.
                            </div>
                        </div>
                        <div class="inputContainer inputContainer-withDescription expert-only">
                            <input is="emby-input" type="text" id="SignalRAutoReconnectIntervals" label="Auto Reconnect Intervals" />
                            <div class="fieldDescription">A comma separated list of intervals given in seconds to try to reconnect to your running Shoko instance if we ever gets disconnected. The provided list will have duplicates removed and will be performed in sorted order starting from the shortest time span when reconnecting. Once the longest interval has been reached and fails to reconnect, we will stop attempting to reconnect and leave the SignalR connection in a disconnected state until it is manually or otherwise reconnected.</div>
                        </div>
                        <div id="SignalREventSources" is="checkbox-list" class="expert-only" style="margin-bottom: 2em;">
                            <h3 class="checkboxListLabel">Event Sources</h3>
                            <div class="checkboxList paperList checkboxList-paperList">
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="Shoko">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">Shoko</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="AniDB">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">AniDB</h3>
                                    </div>
                                </div>
                                <div class="listItem">
                                    <label class="listItemCheckboxContainer">
                                        <input is="emby-checkbox" type="checkbox" data-option="TMDB">
                                        <span></span>
                                    </label>
                                    <div class="listItemBody">
                                        <h3 class="listItemBodyText">TMDB</h3>
                                    </div>
                                </div>
                            </div>
                            <div class="fieldDescription">Which event sources should be listened to for metadata events.</div>
                        </div>
                        <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                            <span>Save</span>
                        </button>
                    </fieldset>
                    <fieldset id="SignalR_Library_New_Section" class="verticalSection verticalSection-extrabottompadding" hidden>
                        <legend>
                            <h3>New Library Settings</h3>
                        </legend>
                        <div class="checkboxContainer checkboxContainer-withDescription">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="SignalRDefaultFileEvents" />
                                <span>File Events</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">
                                <div>Listen for file events, such as when new media gets added or moved around in the file system, and trigger library updates accordingly. Especially useful if your Jellyfin library is using a network share for it's media folder(s) where native file events may not be available for Jellyfin's real time monitoring to function properly. Can be used as a complete replacement for Jellyfin's built-in real time monitoring or used alongside it.</div>
                            </div>
                        </div>
                        <div class="checkboxContainer checkboxContainer-withDescription">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="SignalRDefaultRefreshEvents" />
                                <span>Metadata Events</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">
                                <div>Listen for metadata update events, such as when metadata gets added, updated, or removed, and trigger library updates accordingly. Can be useful when metadata is partially titles or other info initially, but which were added or updated at a later time.</div>
                            </div>
                        </div>
                        <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                            <span>Save</span>
                        </button>
                    </fieldset>
                    <fieldset id="SignalR_Library_Existing_Section" class="verticalSection verticalSection-extrabottompadding" hidden>
                        <legend>
                            <h3>Existing Library Settings</h3>
                        </legend>
                        <div class="selectContainer selectContainer-withDescription">
                            <label class="selectLabel" for="SignalRMediaFolderSelector">Configure settings for</label>
                            <select is="emby-select" id="SignalRMediaFolderSelector" name="SignalRMediaFolderSelector" value="" class="emby-select-withcolor emby-select">
                                <option value="">Click here to select a library</option>
                            </select>
                            <div class="fieldDescription selectFieldDescription">Select a media folder to add or modify the SignalR settings for.</div>
                        </div>
                        <div id="SignalRMediaFolderPerFolderSettingsContainer" hidden>
                            <div class="checkboxContainer checkboxContainer-withDescription">
                                <label class="emby-checkbox-label">
                                    <input is="emby-checkbox" type="checkbox" id="SignalRFileEvents" />
                                    <span>File Events</span>
                                </label>
                                <div class="fieldDescription checkboxFieldDescription">
                                    <div>Listen for file events, such as when new media gets added or moved around in the file system, and trigger library updates accordingly. Especially useful if your Jellyfin library is using a network share for it's media folder(s) where native file events may not be available for Jellyfin's real time monitoring to function properly. Can be used as a complete replacement for Jellyfin's built-in real time monitoring or used alongside it.</div>
                                </div>
                            </div>
                            <div class="checkboxContainer checkboxContainer-withDescription">
                                <label class="emby-checkbox-label">
                                    <input is="emby-checkbox" type="checkbox" id="SignalRRefreshEvents" />
                                    <span>Metadata Events</span>
                                </label>
                                <div class="fieldDescription checkboxFieldDescription">
                                    <div>Listen for metadata update events, such as when metadata gets added, updated, or removed, and trigger library updates accordingly. Can be useful when metadata is partially titles or other info initially, but which were added or updated at a later time.</div>
                                </div>
                            </div>
                            <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                                <span>Save</span>
                            </button>
                        </div>
                    </fieldset>
                    <fieldset id="User_Section" class="verticalSection verticalSection-extrabottompadding" hidden>
                        <legend>
                            <h3>User Settings</h3>
                        </legend>
                        <div class="selectContainer selectContainer-withDescription">
                            <label class="selectLabel" for="UserSelector">Configure settings for</label>
                            <select is="emby-select" id="UserSelector" name="UserSelector" value="" class="emby-select-withcolor emby-select">
                                <option value="">Click here to select a user</option>
                            </select>
                            <div class="fieldDescription selectFieldDescription">Select a user to add, modify or delete the user settings for.</div>
                        </div>
                        <div id="UserSettingsContainer" hidden>
                            <div class="checkboxContainer checkboxContainer-withDescription">
                                <label class="emby-checkbox-label">
                                    <input is="emby-checkbox" type="checkbox" id="UserEnableSynchronization" />
                                    <span>Enable Synchronization Features</span>
                                </label>
                                <div class="fieldDescription checkboxFieldDescription">Enable syncing certain data between Jellyfin and Shoko for the user. The specific behavior on what gets synced and when can be configured using the remaining options in this section. Leaving this setting unchecked will disable synchronization entirely, regardless of other synchronization settings.</div>
                            </div>
                            <div class="checkboxContainer checkboxContainer-withDescription">
                                <label class="emby-checkbox-label">
                                    <input is="emby-checkbox" type="checkbox" id="SyncUserDataOnImport" />
                                    <span>Sync Watch-State on Import or Refresh</span>
                                </label>
                                <div class="fieldDescription checkboxFieldDescription">When media gets scanned into your library or when a library's metadata gets refreshed, sync watch-state between Jellyfin and Shoko.</div>
                            </div>
                            <div class="checkboxContainer checkboxContainer-withDescription">
                                <label class="emby-checkbox-label">
                                    <input is="emby-checkbox" type="checkbox" id="SyncUserDataAfterPlayback" />
                                    <span>Sync Watch-State After Playback</span>
                                </label>
                                <div class="fieldDescription checkboxFieldDescription">Sync watch-state with Shoko when you finish watching a movie, episode, or other video.</div>
                            </div>
                            <div class="checkboxContainer checkboxContainer-withDescription">
                                <label class="emby-checkbox-label">
                                    <input is="emby-checkbox" type="checkbox" id="SyncUserDataUnderPlayback" />
                                    <span>Sync Watch-State Events During Playback</span>
                                </label>
                                <div class="fieldDescription checkboxFieldDescription">Sync watch-state to Shoko on play/pause/stop/resume events during media playback.</div>
                            </div>
                            <div class="checkboxContainer checkboxContainer-withDescription">
                                <label class="emby-checkbox-label">
                                    <input is="emby-checkbox" type="checkbox" id="SyncUserDataUnderPlaybackLive" />
                                    <span>Sync Watch-State Live During Playback</span>
                                </label>
                                <div class="fieldDescription checkboxFieldDescription">Sync watch-state to Shoko at a regular interval during media playback.</div>
                            </div>
                            <div class="checkboxContainer checkboxContainer-withDescription">
                                <label class="emby-checkbox-label">
                                    <input is="emby-checkbox" type="checkbox" id="SyncUserDataInitialSkipEventCount" />
                                    <span>Lazy Sync Watch-State Events With Shoko</span>
                                </label>
                                <div class="fieldDescription checkboxFieldDescription">Wait about 10 seconds before syncing any watch-state events to Shoko. This will prevent accidental clicks and/or previews from marking a file as watched in Shoko, and will also keep them more in sync with Jellyfin since it's closer to how Jellyfin handles the watch-state internally.</div>
                            </div>
                            <div class="checkboxContainer checkboxContainer-withDescription">
                                <label class="emby-checkbox-label">
                                    <input is="emby-checkbox" type="checkbox" id="SyncRestrictedVideos" />
                                    <span>Sync Watch-State for Restricted Media</span>
                                </label>
                                <div class="fieldDescription checkboxFieldDescription">Allow syncing watch-state for restricted media (H) to Shoko.</div>
                            </div>
                            <div class="inputContainer inputContainer-withDescription">
                                <input is="emby-input" type="text" id="UserUsername" label="Username" />
                                <div class="fieldDescription">The username of the account in Shoko to synchronize with the currently selected user.</div>
                            </div>
                            <div id="UserPasswordContainer" class="inputContainer inputContainer-withDescription">
                                <input is="emby-input" type="password" id="UserPassword" label="Password" />
                                <div class="fieldDescription">The password of the account in Shoko to synchronize with the currently selected user.</div>
                            </div>
                            <div id="UserDeleteContainer" class="inputContainer inputContainer-withDescription" hidden>
                                <button is="emby-button" type="submit" name="unlink-user" class="raised button-delete block emby-button">
                                    <span>Remove</span>
                                </button>
                                <div class="fieldDescription">This will delete any saved settings for the user.</div>
                            </div>
                            <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                                <span>Save</span>
                            </button>
                        </div>
                    </fieldset>
                    <fieldset id="Misc_Section" class="verticalSection verticalSection-extrabottompadding expert-only" hidden>
                        <legend>
                            <h3>Miscellaneous Settings</h3>
                        </legend>
                        <div class="checkboxContainer checkboxContainer-withDescription expert-only">
                            <label class="emby-checkbox-label">
                                <input is="emby-checkbox" type="checkbox" id="Misc_ShowInMenu" />
                                <span>Show in Menu</span>
                            </label>
                            <div class="fieldDescription checkboxFieldDescription">Shows a shortcut to the plugin settings in the sidebar navigation menu.</div>
                        </div>
                        <div class="inputContainer inputContainer-withDescription expert-only">
                            <input is="emby-input" type="text" id="IgnoredFolders" label="Ignored Folder Names" />
                            <div class="fieldDescription">A comma separated list of folder names to ignore during a library scan. Useful for skipping folders generated by a NAS or other pieces of software that access the file system where media resides. Only applicable to libraries not managed by the VFS as files not recognized by Shoko Server are already ignored.</div>
                        </div>
                        <button is="emby-button" type="submit" name="settings" class="raised button-submit block emby-button">
                            <span>Save</span>
                        </button>
                    </fieldset>
                    <fieldset id="Utilities_Section" class="verticalSection verticalSection-extrabottompadding expert-only" hidden>
                        <legend>
                            <h3>Utilities</h3>
                        </legend>
                        <div id="UserDeleteContainer" class="inputContainer inputContainer-withDescription expert-only">
                            <a is="emby-linkbutton" rel="noopener noreferrer" class="raised button-alt block emby-button link-redirection" target="_blank" href="#" data-page="Shoko.Utilities.Dummy">
                                <span>Dummy Example</span>
                            </a>
                            <div class="fieldDescription">Don't click the button above! You dummy!</div>
                        </div>
                    </fieldset>
                </div>
            </form>
        </div>
    </div>
</div>
